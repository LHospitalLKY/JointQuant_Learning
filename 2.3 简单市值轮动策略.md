# 简单的市值轮动策略
这一部分更加深入，包括了**run_daily周期循环**、**取用市值数据、持仓数据、指数成分股数据**、**选股**等。


## 简单小市值轮动策略
首先要给出小市值策略：
> 每隔若干个交易日，等金额持有市值排名最小的前几只股票，卖出其他股票

进一步确定间隔为10天，那么这个策略就确定了下来，接下来就是按照之前的框架进行策略的编写。


## 初始化
本策略的初始化中，需要确定的内容有：**轮动频率**、**最小市值股票数**。其中轮动频率是指每隔多少个交易日
进行买卖。

这个策略中，每个交易周期内进行交易的股票不固定。
```python
def initialize(context):
	g.stocksum = 5	# 持有最小市值股票数
	g.period = 10	# 轮动频率
```

我们选取股票的范围是全市场的股票，但是全市场的股票是不断变化的(有新股上市、有退市)，因此确定股票范围就
需要在每个周期循环内进行。


## run_daily —— 循环的另一种写法
run_daily是另外一种周期循环的方法，它将自定的函数插入initialize中，使该自定的函数按周期循环，达到和
handle_data一样的效果。套路如下：
```python
def initialize(context):
	# 初始化设置
	set_....
	
	run_daily(daily, time = 'every_bar')


def daily(context):
	# 周期循环代码
	...
```

